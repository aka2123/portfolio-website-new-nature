function _createForOfIteratorHelper(e,t){var n,r,o,a,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return o=!(r=!0),{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,n=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw n}}};if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nav=document.querySelector(".nav"),navItems=document.querySelectorAll(".nav a, .nav button"),hamburgerBtn=document.querySelector(".hamburger"),sectionAchievements=document.querySelector(".achievements"),achievementsNumbers=document.querySelectorAll(".achievements__number"),sectionOffersInHomePage=document.querySelector(".home-page .offers"),offersCards=document.querySelectorAll(".offers__card"),offersChooseBarBtns=document.querySelectorAll(".offers__choose-bar-btn"),offersCardsOnlyInOffersPage=document.querySelectorAll(".offers-page .offers__card"),offersPage=document.querySelector(".offers-page"),accordionsBtns=document.querySelectorAll(".accordion-btn"),sectionsWhereNavChangesItsStyle=document.querySelectorAll(".section-where-nav-style-changes"),mediaQueryFor922pxAndUp=window.matchMedia("(min-width: 992px)"),testimonialsSection=document.querySelector(".testimonials"),testimonials=document.querySelectorAll(".testimonials__testimonial"),testimonialArrowLeft=document.querySelector(".testimonials__arrow--left"),testimonialArrowRight=document.querySelector(".testimonials__arrow--right"),btnNewsletterForm=document.querySelector(".newsletter__btn.btn-for-inputs"),inputForEmailInNewsletterForm=document.querySelector(".newsletter__input"),btnContactForm=document.querySelector(".contact__form-btn.btn-for-inputs"),inputsAndTextareaInContactForm=document.querySelectorAll(".contact .input-default, .contact .textarea-default"),inputForEmailInContactForm=document.querySelector(".contact .input-email"),inputForNameInContactForm=document.querySelector(".contact .input-name"),inputForSurnameInContactForm=document.querySelector(".contact .input-surname"),inputForPhoneNumberInContactForm=document.querySelector(".contact .input-phone-number"),textareaForMessageInContactForm=document.querySelector(".contact .textarea-message"),footerYear=document.querySelector(".footer__year"),optionsForObserver={rootMargin:"-250px"},indexOfCurrentCenteredTestimonial=0,indexOfLastTestimonial=testimonials.length-1,startXOfDragOnTestimonials=0,endXOfDragOnTestimonials=0,differenceOfStartEndX=0,handleListenersForFunctionShowHideNav=function(t){navItems.forEach(function(e){t.target===e&&showHideNavAndStyleHamburgerBtn()}),hamburgerBtn.contains(t.target)&&showHideNavAndStyleHamburgerBtn(),nav.contains(t.target)||hamburgerBtn.contains(t.target)||!nav.classList.contains("nav--visible")||showHideNavAndStyleHamburgerBtn()},showHideNavAndStyleHamburgerBtn=function(){nav.classList.toggle("nav--visible"),hamburgerBtn.classList.toggle("is-active")},increaseNumbersInAchievementSection=function(e){e[0].isIntersecting&&achievementsNumbers.forEach(function(e){var t=+e.dataset.finalNum,n=t/200,r=function(){e.textContent<t?(e.textContent=Math.floor(++e.textContent+n),setTimeout(r,1)):e.textContent=t};r()})},addAnimationToOffersCards=function(e){e[0].isIntersecting&&offersCards.forEach(function(e){return e.classList.add("offers__card--animated-when-first-seen")})};function expandAccordion(){this.parentElement.querySelectorAll(".accordion-btn ~ *").forEach(function(e){var t=e.classList[0]+"--visible";e.classList.toggle(t)}),this.querySelector(".arrow-down-icon").classList.toggle("arrow-down-icon--rotated")}var checkWhichOfferBtnIsActive=function(){var n=document.querySelector(".offers__choose-bar-btn--active").classList[1].split("--")[1];offersCardsOnlyInOffersPage.forEach(function(e){var t=e.classList[1].split("--")[1];n!==t?e.classList.add("offers__card--hidden-overriding-visible-class"):e.classList.remove("offers__card--hidden-overriding-visible-class")})},changeActiveBtnInOffersChooseBar=function(t){offersChooseBarBtns.forEach(function(e){e===t.target?e.classList.add("offers__choose-bar-btn--active"):e.classList.remove("offers__choose-bar-btn--active")}),checkWhichOfferBtnIsActive()},checkAtWhichSectionYouAre=(mediaQueryFor922pxAndUp.matches&&offersCards.forEach(function(e){return e.classList.add("offers__card--visible")}),function(){var r=window.scrollY;sectionsWhereNavChangesItsStyle.forEach(function(e){var t=e.offsetTop,n=e.offsetHeight;t<=r&&r<=n+t&&!nav.classList.contains("nav--on-special-sections")?(nav.classList.add("nav--on-special-sections"),nav.classList.remove("nav--animated"),e.classList.contains("light-section")||e.classList.contains("light-secondary-section")?nav.classList.add("nav--on-special-sections-which-are-light"):nav.classList.add("nav--on-special-sections-which-are-dark")):(r<t||n+t<r)&&(nav.classList.remove("nav--on-special-sections"),nav.classList.remove("nav--on-special-sections-which-are-light"),nav.classList.remove("nav--on-special-sections-which-are-dark"),nav.classList.add("nav--animated"))})}),moveTestimonials=function(){var e,t=testimonials[0],n=t.offsetWidth,t=parseInt(window.getComputedStyle(t).marginRight),r="".concat((n+t)*indexOfCurrentCenteredTestimonial),n=testimonials[indexOfCurrentCenteredTestimonial],o=_createForOfIteratorHelper(testimonials);try{for(o.s();!(e=o.n()).done;){var a=e.value;a.classList.remove("testimonials__testimonial--at-the-center"),a.style.transform="translateX(-".concat(r,"px)")}}catch(e){o.e(e)}finally{o.f()}n.classList.add("testimonials__testimonial--at-the-center")},decreaseVariableIndexOfCenteredTestimonial=function(){0<indexOfCurrentCenteredTestimonial?indexOfCurrentCenteredTestimonial--:0===indexOfCurrentCenteredTestimonial&&(indexOfCurrentCenteredTestimonial=indexOfLastTestimonial,console.log(indexOfCurrentCenteredTestimonial)),moveTestimonials()},increaseVariableIndexOfCenteredTestimonial=function(){indexOfCurrentCenteredTestimonial<indexOfLastTestimonial?indexOfCurrentCenteredTestimonial++:indexOfCurrentCenteredTestimonial===indexOfLastTestimonial&&(indexOfCurrentCenteredTestimonial=0),moveTestimonials()},checkDragDirection=function(e){50<(differenceOfStartEndX=startXOfDragOnTestimonials-endXOfDragOnTestimonials)?increaseVariableIndexOfCenteredTestimonial():differenceOfStartEndX<-50&&decreaseVariableIndexOfCenteredTestimonial()},addErrorToInput=function(e,t){e=e.nextElementSibling;e.classList.add("error-for-inputs-visible"),e.textContent=t},removeErrorFromInput=function(e){e=e.nextElementSibling;e.classList.remove("error-for-inputs-visible"),e.textContent=""},checkEmailSpelling=function(e){/^\S+@\S+\.\S+$/.test(e.value)?removeErrorFromInput(e):addErrorToInput(e,"Email jest błędny")},checkNameSpelling=function(e){var t;/^[a-zA-Z\s]*$/.test(e.value)?removeErrorFromInput(e):(t="".concat(e.previousElementSibling.textContent," nie może zawierać znaków "),addErrorToInput(e,t))},checkLenghtOfInput=function(e,t){var n,r;e.value.length<t?(n=e.previousElementSibling.textContent,4<t?r="".concat(n," ma zawierać minimalnie ").concat(t," znaków"):t<=4&&(r="".concat(n," ma zawierać minimalnie ").concat(t," znaki")),addErrorToInput(e,r)):e.classList.contains("textarea-default")&&removeErrorFromInput(e)},checkLenghtOfInputPhoneNumber=function(e,t){var n;e.value.length!==t?(n=(n=e.previousElementSibling.textContent.split(" "))[0].charAt(0).toUpperCase()+n[0].slice(1)+" "+n[1],n="".concat(n," ma zawierać ").concat(t," cyfr"),addErrorToInput(e,n)):removeErrorFromInput(e)},checkIfInputIsEmpty=function(e){var t;0===e.value.length&&(t=e.previousElementSibling.textContent,t="".concat(t," nie może być pusty"),addErrorToInput(e,t))},handleInputsToCheckIfAreEmpty=function(e){Array.isArray(e)?e.forEach(function(e){return checkIfInputIsEmpty(e)}):checkIfInputIsEmpty(e)},showPopup=function(e){var t=0,e=e.target.closest(".section"),n=e.querySelector(".form-message"),r=e.querySelectorAll(".input-default, .textarea-default");r.forEach(function(e){e.nextElementSibling.classList.contains("error-for-inputs-visible")&&t++}),0===t?(n.classList.add("form-message-active"),setTimeout(function(){n.classList.remove("form-message-active"),r.forEach(function(e){return e.value=""})},3e3)):n.classList.remove("form-message-active")},handleParametersOfInputsOfContactForm=function(e){e.preventDefault(),checkEmailSpelling(inputForEmailInContactForm),checkNameSpelling(inputForNameInContactForm),checkNameSpelling(inputForSurnameInContactForm),checkLenghtOfInput(inputForNameInContactForm,3),checkLenghtOfInput(inputForSurnameInContactForm,3),checkLenghtOfInputPhoneNumber(inputForPhoneNumberInContactForm,9),checkLenghtOfInput(textareaForMessageInContactForm,30),handleInputsToCheckIfAreEmpty(inputsAndTextareaInContactForm),showPopup(e)},handleParametersForInputOfNewsletterForm=function(e){e.preventDefault(),checkEmailSpelling(inputForEmailInNewsletterForm),handleInputsToCheckIfAreEmpty(inputForEmailInNewsletterForm),showPopup(e)},updateFooterYear=function(){footerYear.textContent=(new Date).getFullYear()},observerForAchievements=(updateFooterYear(),document.addEventListener("click",handleListenersForFunctionShowHideNav),accordionsBtns.forEach(function(e){return e.addEventListener("click",expandAccordion)}),new IntersectionObserver(increaseNumbersInAchievementSection,optionsForObserver)),observerForOffers=new IntersectionObserver(addAnimationToOffersCards,optionsForObserver);null!==sectionAchievements&&observerForAchievements.observe(sectionAchievements),null!==sectionOffersInHomePage&&observerForOffers.observe(sectionOffersInHomePage),null!==offersPage&&(document.addEventListener("DOMContentLoaded",checkWhichOfferBtnIsActive),offersChooseBarBtns.forEach(function(e){return e.addEventListener("click",changeActiveBtnInOffersChooseBar)})),null!==testimonialsSection&&(testimonialsSection.addEventListener("touchstart",function(e){return startXOfDragOnTestimonials=e.touches[0].clientX}),testimonialsSection.addEventListener("touchmove",function(e){return endXOfDragOnTestimonials=e.touches[0].clientX}),testimonialsSection.addEventListener("touchend",checkDragDirection),testimonialArrowRight.addEventListener("click",increaseVariableIndexOfCenteredTestimonial),testimonialArrowLeft.addEventListener("click",decreaseVariableIndexOfCenteredTestimonial)),null!==btnContactForm&&btnContactForm.addEventListener("click",handleParametersOfInputsOfContactForm),null!==btnNewsletterForm&&btnNewsletterForm.addEventListener("click",handleParametersForInputOfNewsletterForm),document.addEventListener("DOMContentLoaded",checkAtWhichSectionYouAre),document.addEventListener("scroll",checkAtWhichSectionYouAre);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJuYXYiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJuYXZJdGVtcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJoYW1idXJnZXJCdG4iLCJzZWN0aW9uQWNoaWV2ZW1lbnRzIiwiYWNoaWV2ZW1lbnRzTnVtYmVycyIsInNlY3Rpb25PZmZlcnNJbkhvbWVQYWdlIiwib2ZmZXJzQ2FyZHMiLCJvZmZlcnNDYXJkc09ubHlJbk9mZmVyc1BhZ2UiLCJvZmZlcnNQYWdlIiwiYWNjb3JkaW9uc0J0bnMiLCJtZWRpYVF1ZXJ5Rm9yOTIycHhBbmRVcCIsIm1hdGNoTWVkaWEiLCJ0ZXN0aW1vbmlhbHNTZWN0aW9uIiwidGVzdGltb25pYWxzIiwidGVzdGltb25pYWxBcnJvd0xlZnQiLCJidG5OZXdzbGV0dGVyRm9ybSIsImlucHV0Rm9yRW1haWxJbk5ld3NsZXR0ZXJGb3JtIiwiaW5wdXRzQW5kVGV4dGFyZWFJbkNvbnRhY3RGb3JtIiwiaW5wdXRGb3JFbWFpbEluQ29udGFjdEZvcm0iLCJpbnB1dEZvck5hbWVJbkNvbnRhY3RGb3JtIiwiaW5wdXRGb3JTdXJuYW1lSW5Db250YWN0Rm9ybSIsImlucHV0Rm9yUGhvbmVOdW1iZXJJbkNvbnRhY3RGb3JtIiwidGV4dGFyZWFGb3JNZXNzYWdlSW5Db250YWN0Rm9ybSIsImZvb3RlclllYXIiLCJyb290TWFyZ2luIiwiaW5kZXhPZkN1cnJlbnRDZW50ZXJlZFRlc3RpbW9uaWFsIiwiaW5kZXhPZkxhc3RUZXN0aW1vbmlhbCIsImRpZmZlcmVuY2VPZlN0YXJ0RW5kWCIsImhhbmRsZUxpc3RlbmVyc0ZvckZ1bmN0aW9uU2hvd0hpZGVOYXYiLCJsZW5ndGgiLCJzdGFydFhPZkRyYWdPblRlc3RpbW9uaWFscyIsImVuZFhPZkRyYWdPblRlc3RpbW9uaWFscyIsInNob3dIaWRlTmF2QW5kU3R5bGVIYW1idXJnZXJCdG4iLCJlIiwidGFyZ2V0IiwiaXRlbSIsImNvbnRhaW5zIiwiY2xhc3NMaXN0IiwiZW50cnkiLCJmaW5hbE51bSIsIm51bSIsImRhdGFzZXQiLCJpbmNyZWFzZU51bWJlcnNJbkFjaGlldmVtZW50U2VjdGlvbiIsImlzSW50ZXJzZWN0aW5nIiwidGV4dENvbnRlbnQiLCJzcGVlZCIsInVwZGF0ZU51bWJlciIsIk1hdGgiLCJmbG9vciIsImFkZEFuaW1hdGlvblRvT2ZmZXJzQ2FyZHMiLCJuZXdDbGFzc01ha2luZ1RoZVNpYmxpbmdWaXNpYmxlIiwic2libGluZyIsImZvckVhY2giLCJjYXJkIiwiYWRkIiwiY2hlY2tXaGljaE9mZmVyQnRuSXNBY3RpdmUiLCJyZXByZXNlbnRpbmdDbGFzc09mQWN0aXZlT2ZmZXJCdG4iLCJyZXByZXNlbnRpbmdDbGFzc09mT2ZmZXJzQ2FyZCIsInNwbGl0IiwidGhpcyIsInRvZ2dsZSIsImNoYW5nZUFjdGl2ZUJ0bkluT2ZmZXJzQ2hvb3NlQmFyIiwiYnRuIiwicmVtb3ZlIiwib2ZmZXJzQ2hvb3NlQmFyQnRucyIsImNoZWNrQXRXaGljaFNlY3Rpb25Zb3VBcmUiLCJzZWN0aW9uc1doZXJlTmF2Q2hhbmdlc0l0c1N0eWxlIiwic2VjdGlvbiIsIm1hdGNoZXMiLCJzZWN0aW9uRGlzdGFuY2VGcm9tVG9wIiwid2luZG93Iiwic2Nyb2xsWSIsIm9mZnNldFRvcCIsIm9mZnNldEhlaWdodCIsInNjcm9sbGVkRGlzdGFuY2UiLCJzZWN0aW9uSGVpZ2h0IiwibW92ZVRlc3RpbW9uaWFscyIsImV4YW1wbGVUZXN0aW1vbmlhbCIsInRlc3RpbW9uaWFsTWFyZ2luVmFsdWUiLCJnZXRDb21wdXRlZFN0eWxlIiwidHJhbnNsYXRlWFZhbHVlIiwidGVzdGltb25pYWxXaWR0aCIsImNlbnRlcmVkVGVzdGltb25pYWwiLCJfaXRlcmF0b3IiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsInRlc3RpbW9uaWFsIiwidmFsdWUiLCJ0cmFuc2Zvcm0iLCJkZWNyZWFzZVZhcmlhYmxlSW5kZXhPZkNlbnRlcmVkVGVzdGltb25pYWwiLCJtYXJnaW5SaWdodCIsInMiLCJfc3RlcCIsIm4iLCJkb25lIiwibG9nIiwiY29uY2F0IiwiZXJyIiwiZiIsImNoZWNrRHJhZ0RpcmVjdGlvbiIsImluY3JlYXNlVmFyaWFibGVJbmRleE9mQ2VudGVyZWRUZXN0aW1vbmlhbCIsImFkZEVycm9yVG9JbnB1dCIsImlucHV0IiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiaW5wdXRFcnJvciIsImNoZWNrRW1haWxTcGVsbGluZyIsIm1lc3NhZ2UiLCJjaGVja05hbWVTcGVsbGluZyIsIm5hbWUiLCJyZW1vdmVFcnJvckZyb21JbnB1dCIsIm1pbkxlbmdodE9mQ2hhciIsInR5cGVPZklucHV0IiwiZW1haWwiLCJwaG9uZU51bSIsImNoZWNrTGVuZ2h0T2ZJbnB1dFBob25lTnVtYmVyIiwicmVzdE9mVGV4dE9mMXdvcmQiLCJsYWJlbFRleHRJbkFycmF5IiwiY2hlY2tMZW5naHRPZklucHV0IiwicHJldmlvdXNFbGVtZW50U2libGluZyIsImNoZWNrSWZJbnB1dElzRW1wdHkiLCJBcnJheSIsIm51bWJlcnMiLCJpbnB1dHNPcklucHV0IiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsInBob25lTnVtU3RyaW5nIiwiYWxsSW5wdXRzQW5kVGV4dGFyZWFzT2ZUaGlzRm9ybSIsImlucHV0T3JUZXh0YXJlYSIsIm51bU9mRXJyb3JzIiwiaGFuZGxlSW5wdXRzVG9DaGVja0lmQXJlRW1wdHkiLCJpc0FycmF5IiwicHJldmVudERlZmF1bHQiLCJzaG93UG9wdXAiLCJ1cGRhdGVGb290ZXJZZWFyIiwicG9wdXBPZlRoaXNGb3JtIiwiaGFuZGxlUGFyYW1ldGVyc09mSW5wdXRzT2ZDb250YWN0Rm9ybSIsImV4cGFuZEFjY29yZGlvbiIsIm9ic2VydmVyRm9yT2ZmZXJzIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJvYnNlcnZlckZvckFjaGlldmVtZW50cyIsImhhbmRsZVBhcmFtZXRlcnNGb3JJbnB1dE9mTmV3c2xldHRlckZvcm0iLCJ0ZXN0aW1vbmlhbEFycm93UmlnaHQiLCJhZGRFdmVudExpc3RlbmVyIiwiYnRuQ29udGFjdEZvcm0iLCJvcHRpb25zRm9yT2JzZXJ2ZXIiLCJvYnNlcnZlIiwidG91Y2hlcyIsImNsaWVudFgiXSwibWFwcGluZ3MiOiJxbUNBQUEsSUFBTUEsSUFBTUMsU0FBU0MsY0FBYyxNQUFNLEVBQ25DQyxTQUFXRixTQUFTRyxpQkFBaUIscUJBQXFCLEVBQzFEQyxhQUFlSixTQUFTQyxjQUFjLFlBQVksRUFFbERJLG9CQUFzQkwsU0FBU0MsY0FBYyxlQUFlLEVBSjVERixvQkFBZUUsU0FBY0UsaUJBQU8sdUJBQUEsRUFFcENDLHdCQUF3QkgsU0FBYUEsY0FBYyxvQkFBQSxFQUVuREksWUFBQUEsU0FBc0JMLGlCQUFTQyxlQUFjLEVBQzdDSyxvQkFBc0JOLFNBQVNHLGlCQUFpQix5QkFBd0IsRUFFeEVJLDRCQUEwQlAsU0FBU0MsaUJBQWMsNEJBQXFCLEVBQ3RFTyxXQUFjUixTQUFTRyxjQUFBQSxjQUFpQixFQUV4Q00sZUFBQUEsU0FBMkJOLGlCQUFZQSxnQkFBaUIsRUFDeERPLGdDQUFvQ1YsU0FBQUcsaUJBQWUsa0NBQUEsRUFFbkRRLHdCQUEwQlIsT0FBQUEsV0FBaUIsb0JBQWlCLEVBRTVEUyxvQkFBdUJaLFNBQVVhLGNBQVcsZUFBQSxFQUU1Q0MsYUFBQUEsU0FBc0JkLGlCQUFTQyw0QkFBOEIsRUFDN0RjLHFCQUF3QlosU0FBQUEsY0FBaUIsNEJBQTZCLEVBQ3RFYSxzQkFBdUJoQixTQUFTQyxjQUFjLDZCQUE2QixFQUczRWdCLGtCQUFvQmpCLFNBQVNDLGNBQWMsaUNBQWtDLEVBQzdFaUIsOEJBQWdDbEIsU0FBU0MsY0FBYyxvQkFBcUIsRUFHNUVrQixlQUFBQSxTQUFBQSxjQUEwQ2hCLG1DQUFpQixFQUMzRGlCLCtCQUE2QnBCLFNBQVNDLGlCQUFjLHFEQUF3QixFQUM1RW9CLDJCQUE0QnJCLFNBQVNDLGNBQWMsdUJBQXVCLEVBQzFFcUIsMEJBQTRCdEIsU0FBV0MsY0FBYyxzQkFBQyxFQUN0RHNCLDZCQUFnQ3ZCLFNBQUdBLGNBQVNDLHlCQUFjLEVBQzFE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Y2VzQ29udGVudCI6WyJjb25zdCBuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2JylcclxuY29uc3QgbmF2SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2IGEsIC5uYXYgYnV0dG9uJylcclxuY29uc3QgaGFtYnVyZ2VyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhhbWJ1cmdlcicpXHJcblxyXG5jb25zdCBzZWN0aW9uQWNoaWV2ZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjaGlldmVtZW50cycpXHJcbmNvbnN0IGFjaGlldmVtZW50c051bWJlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNoaWV2ZW1lbnRzX19udW1iZXInKVxyXG5cclxuY29uc3Qgc2VjdGlvbk9mZmVyc0luSG9tZVBhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaG9tZS1wYWdlIC5vZmZlcnMnKVxyXG5jb25zdCBvZmZlcnNDYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vZmZlcnNfX2NhcmQnKVxyXG5jb25zdCBvZmZlcnNDaG9vc2VCYXJCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm9mZmVyc19fY2hvb3NlLWJhci1idG4nKVxyXG5jb25zdCBvZmZlcnNDYXJkc09ubHlJbk9mZmVyc1BhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcub2ZmZXJzLXBhZ2UgLm9mZmVyc19fY2FyZCcpXHJcbmNvbnN0IG9mZmVyc1BhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub2ZmZXJzLXBhZ2UnKVxyXG5cclxuY29uc3QgYWNjb3JkaW9uc0J0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjb3JkaW9uLWJ0bicpXHJcbmNvbnN0IHNlY3Rpb25zV2hlcmVOYXZDaGFuZ2VzSXRzU3R5bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbi13aGVyZS1uYXYtc3R5bGUtY2hhbmdlcycpXHJcbmNvbnN0IG1lZGlhUXVlcnlGb3I5MjJweEFuZFVwID0gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDk5MnB4KScpXHJcblxyXG5jb25zdCB0ZXN0aW1vbmlhbHNTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlc3RpbW9uaWFscycpXHJcbmNvbnN0IHRlc3RpbW9uaWFscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50ZXN0aW1vbmlhbHNfX3Rlc3RpbW9uaWFsJylcclxuY29uc3QgdGVzdGltb25pYWxBcnJvd0xlZnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGVzdGltb25pYWxzX19hcnJvdy0tbGVmdCcpXHJcbmNvbnN0IHRlc3RpbW9uaWFsQXJyb3dSaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZXN0aW1vbmlhbHNfX2Fycm93LS1yaWdodCcpXHJcblxyXG5jb25zdCBidG5OZXdzbGV0dGVyRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXdzbGV0dGVyX19idG4uYnRuLWZvci1pbnB1dHMnKVxyXG5jb25zdCBpbnB1dEZvckVtYWlsSW5OZXdzbGV0dGVyRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXdzbGV0dGVyX19pbnB1dCcpXHJcblxyXG5jb25zdCBidG5Db250YWN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19mb3JtLWJ0bi5idG4tZm9yLWlucHV0cycpXHJcbmNvbnN0IGlucHV0c0FuZFRleHRhcmVhSW5Db250YWN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb250YWN0IC5pbnB1dC1kZWZhdWx0LCAuY29udGFjdCAudGV4dGFyZWEtZGVmYXVsdCcpXHJcbmNvbnN0IGlucHV0Rm9yRW1haWxJbkNvbnRhY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3QgLmlucHV0LWVtYWlsJylcclxuY29uc3QgaW5wdXRGb3JOYW1lSW5Db250YWN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0IC5pbnB1dC1uYW1lJylcclxuY29uc3QgaW5wdXRGb3JTdXJuYW1lSW5Db250YWN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0IC5pbnB1dC1zdXJuYW1lJylcclxuY29uc3QgaW5wdXRGb3JQaG9uZU51bWJlckluQ29udGFjdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdCAuaW5wdXQtcGhvbmUtbnVtYmVyJylcclxuY29uc3QgdGV4dGFyZWFGb3JNZXNzYWdlSW5Db250YWN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0IC50ZXh0YXJlYS1tZXNzYWdlJylcclxuXHJcbmNvbnN0IGZvb3RlclllYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyX195ZWFyJylcclxuXHJcbmNvbnN0IG9wdGlvbnNGb3JPYnNlcnZlciA9IHtcclxuXHRyb290TWFyZ2luOiAnLTI1MHB4JyxcclxufVxyXG5cclxubGV0IGluZGV4T2ZDdXJyZW50Q2VudGVyZWRUZXN0aW1vbmlhbCA9IDBcclxuY29uc3QgaW5kZXhPZkxhc3RUZXN0aW1vbmlhbCA9IHRlc3RpbW9uaWFscy5sZW5ndGggLSAxXHJcblxyXG5sZXQgc3RhcnRYT2ZEcmFnT25UZXN0aW1vbmlhbHMgPSAwXHJcbmxldCBlbmRYT2ZEcmFnT25UZXN0aW1vbmlhbHMgPSAwXHJcbmxldCBkaWZmZXJlbmNlT2ZTdGFydEVuZFggPSAwXHJcblxyXG5jb25zdCBoYW5kbGVMaXN0ZW5lcnNGb3JGdW5jdGlvblNob3dIaWRlTmF2ID0gZSA9PiB7XHJcblx0bmF2SXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuXHRcdGlmIChlLnRhcmdldCA9PT0gaXRlbSkge1xyXG5cdFx0XHRzaG93SGlkZU5hdkFuZFN0eWxlSGFtYnVyZ2VyQnRuKClcclxuXHRcdH1cclxuXHR9KVxyXG5cclxuXHRpZiAoaGFtYnVyZ2VyQnRuLmNvbnRhaW5zKGUudGFyZ2V0KSkge1xyXG5cdFx0c2hvd0hpZGVOYXZBbmRTdHlsZUhhbWJ1cmdlckJ0bigpXHJcblx0fVxyXG5cdGlmICghbmF2LmNvbnRhaW5zKGUudGFyZ2V0KSAmJiAhaGFtYnVyZ2VyQnRuLmNvbnRhaW5zKGUudGFyZ2V0KSAmJiBuYXYuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtLXZpc2libGUnKSkge1xyXG5cdFx0c2hvd0hpZGVOYXZBbmRTdHlsZUhhbWJ1cmdlckJ0bigpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBzaG93SGlkZU5hdkFuZFN0eWxlSGFtYnVyZ2VyQnRuID0gKCkgPT4ge1xyXG5cdG5hdi5jbGFzc0xpc3QudG9nZ2xlKCduYXYtLXZpc2libGUnKVxyXG5cdGhhbWJ1cmdlckJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKVxyXG59XHJcblxyXG4vLyBhY2hpZXZlbWVudHNcclxuXHJcbmNvbnN0IGluY3JlYXNlTnVtYmVyc0luQWNoaWV2ZW1lbnRTZWN0aW9uID0gZW50cnkgPT4ge1xyXG5cdGlmIChlbnRyeVswXS5pc0ludGVyc2VjdGluZykge1xyXG5cdFx0YWNoaWV2ZW1lbnRzTnVtYmVycy5mb3JFYWNoKG51bSA9PiB7XHJcblx0XHRcdGNvbnN0IGZpbmFsTnVtID0gK251bS5kYXRhc2V0LmZpbmFsTnVtXHJcblx0XHRcdGNvbnN0IHNwZWVkID0gZmluYWxOdW0gLyAyMDBcclxuXHJcblx0XHRcdGNvbnN0IHVwZGF0ZU51bWJlciA9ICgpID0+IHtcclxuXHRcdFx0XHRpZiAobnVtLnRleHRDb250ZW50IDwgZmluYWxOdW0pIHtcclxuXHRcdFx0XHRcdG51bS50ZXh0Q29udGVudCA9IE1hdGguZmxvb3IoKytudW0udGV4dENvbnRlbnQgKyBzcGVlZClcclxuXHRcdFx0XHRcdHNldFRpbWVvdXQodXBkYXRlTnVtYmVyLCAxKVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRudW0udGV4dENvbnRlbnQgPSBmaW5hbE51bVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHR1cGRhdGVOdW1iZXIoKVxyXG5cdFx0fSlcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGFkZEFuaW1hdGlvblRvT2ZmZXJzQ2FyZHMgPSBlbnRyeSA9PiB7XHJcblx0aWYgKGVudHJ5WzBdLmlzSW50ZXJzZWN0aW5nKSB7XHJcblx0XHRvZmZlcnNDYXJkcy5mb3JFYWNoKGNhcmQgPT4gY2FyZC5jbGFzc0xpc3QuYWRkKCdvZmZlcnNfX2NhcmQtLWFuaW1hdGVkLXdoZW4tZmlyc3Qtc2VlbicpKVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gZXhwYW5kQWNjb3JkaW9uKCkge1xyXG5cdGNvbnN0IGFsbFNpYmxpbmdzT2ZDbGlja2VkQnRuID0gdGhpcy5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpb24tYnRuIH4gKicpXHJcblx0YWxsU2libGluZ3NPZkNsaWNrZWRCdG4uZm9yRWFjaChzaWJsaW5nID0+IHtcclxuXHRcdGNvbnN0IG5ld0NsYXNzTWFraW5nVGhlU2libGluZ1Zpc2libGUgPSBzaWJsaW5nLmNsYXNzTGlzdFswXSArICctLXZpc2libGUnXHJcblx0XHRzaWJsaW5nLmNsYXNzTGlzdC50b2dnbGUobmV3Q2xhc3NNYWtpbmdUaGVTaWJsaW5nVmlzaWJsZSlcclxuXHR9KVxyXG5cdGNvbnN0IGljb25JbkNsaWNrZWRCdG4gPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJy5hcnJvdy1kb3duLWljb24nKVxyXG5cdGljb25JbkNsaWNrZWRCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnYXJyb3ctZG93bi1pY29uLS1yb3RhdGVkJylcclxufVxyXG5cclxuY29uc3QgY2hlY2tXaGljaE9mZmVyQnRuSXNBY3RpdmUgPSAoKSA9PiB7XHJcblx0Y29uc3QgYWN0aXZlT2ZmZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub2ZmZXJzX19jaG9vc2UtYmFyLWJ0bi0tYWN0aXZlJylcclxuXHRjb25zdCByZXByZXNlbnRpbmdDbGFzc09mQWN0aXZlT2ZmZXJCdG4gPSBhY3RpdmVPZmZlckJ0bi5jbGFzc0xpc3RbMV0uc3BsaXQoJy0tJylbMV1cclxuXHJcblx0b2ZmZXJzQ2FyZHNPbmx5SW5PZmZlcnNQYWdlLmZvckVhY2goY2FyZCA9PiB7XHJcblx0XHRjb25zdCByZXByZXNlbnRpbmdDbGFzc09mT2ZmZXJzQ2FyZCA9IGNhcmQuY2xhc3NMaXN0WzFdLnNwbGl0KCctLScpWzFdXHJcblx0XHRpZiAocmVwcmVzZW50aW5nQ2xhc3NPZkFjdGl2ZU9mZmVyQnRuICE9PSByZXByZXNlbnRpbmdDbGFzc09mT2ZmZXJzQ2FyZCkge1xyXG5cdFx0XHRjYXJkLmNsYXNzTGlzdC5hZGQoJ29mZmVyc19fY2FyZC0taGlkZGVuLW92ZXJyaWRpbmctdmlzaWJsZS1jbGFzcycpXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjYXJkLmNsYXNzTGlzdC5yZW1vdmUoJ29mZmVyc19fY2FyZC0taGlkZGVuLW92ZXJyaWRpbmctdmlzaWJsZS1jbGFzcycpXHJcblx0XHR9XHJcblx0fSlcclxufVxyXG5cclxuY29uc3QgY2hhbmdlQWN0aXZlQnRuSW5PZmZlcnNDaG9vc2VCYXIgPSBlID0+IHtcclxuXHRvZmZlcnNDaG9vc2VCYXJCdG5zLmZvckVhY2goYnRuID0+IHtcclxuXHRcdGlmIChidG4gPT09IGUudGFyZ2V0KSB7XHJcblx0XHRcdGJ0bi5jbGFzc0xpc3QuYWRkKCdvZmZlcnNfX2Nob29zZS1iYXItYnRuLS1hY3RpdmUnKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0YnRuLmNsYXNzTGlzdC5yZW1vdmUoJ29mZmVyc19fY2hvb3NlLWJhci1idG4tLWFjdGl2ZScpXHJcblx0XHR9XHJcblx0fSlcclxuXHJcblx0Y2hlY2tXaGljaE9mZmVyQnRuSXNBY3RpdmUoKVxyXG59XHJcblxyXG5pZiAobWVkaWFRdWVyeUZvcjkyMnB4QW5kVXAubWF0Y2hlcykge1xyXG5cdG9mZmVyc0NhcmRzLmZvckVhY2goY2FyZCA9PiBjYXJkLmNsYXNzTGlzdC5hZGQoJ29mZmVyc19fY2FyZC0tdmlzaWJsZScpKVxyXG59XHJcblxyXG5jb25zdCBjaGVja0F0V2hpY2hTZWN0aW9uWW91QXJlID0gKCkgPT4ge1xyXG5cdGNvbnN0IHNjcm9sbGVkRGlzdGFuY2UgPSB3aW5kb3cuc2Nyb2xsWVxyXG5cdHNlY3Rpb25zV2hlcmVOYXZDaGFuZ2VzSXRzU3R5bGUuZm9yRWFjaChzZWN0aW9uID0+IHtcclxuXHRcdGNvbnN0IHNlY3Rpb25EaXN0YW5jZUZyb21Ub3AgPSBzZWN0aW9uLm9mZnNldFRvcFxyXG5cdFx0Y29uc3Qgc2VjdGlvbkhlaWdodCA9IHNlY3Rpb24ub2Zmc2V0SGVpZ2h0XHJcblxyXG5cdFx0aWYgKFxyXG5cdFx0XHRzY3JvbGxlZERpc3RhbmNlID49IHNlY3Rpb25EaXN0YW5jZUZyb21Ub3AgJiZcclxuXHRcdFx0c2Nyb2xsZWREaXN0YW5jZSA8PSBzZWN0aW9uSGVpZ2h0ICsgc2VjdGlvbkRpc3RhbmNlRnJvbVRvcCAmJlxyXG5cdFx0XHQhbmF2LmNsYXNzTGlzdC5jb250YWlucygnbmF2LS1vbi1zcGVjaWFsLXNlY3Rpb25zJylcclxuXHRcdCkge1xyXG5cdFx0XHRuYXYuY2xhc3NMaXN0LmFkZCgnbmF2LS1vbi1zcGVjaWFsLXNlY3Rpb25zJylcclxuXHRcdFx0bmF2LmNsYXNzTGlzdC5yZW1vdmUoJ25hdi0tYW5pbWF0ZWQnKVxyXG5cdFx0XHRpZiAoc2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2xpZ2h0LXNlY3Rpb24nKSB8fCBzZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnbGlnaHQtc2Vjb25kYXJ5LXNlY3Rpb24nKSkge1xyXG5cdFx0XHRcdG5hdi5jbGFzc0xpc3QuYWRkKCduYXYtLW9uLXNwZWNpYWwtc2VjdGlvbnMtd2hpY2gtYXJlLWxpZ2h0JylcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRuYXYuY2xhc3NMaXN0LmFkZCgnbmF2LS1vbi1zcGVjaWFsLXNlY3Rpb25zLXdoaWNoLWFyZS1kYXJrJylcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIGlmIChzY3JvbGxlZERpc3RhbmNlIDwgc2VjdGlvbkRpc3RhbmNlRnJvbVRvcCB8fCBzY3JvbGxlZERpc3RhbmNlID4gc2VjdGlvbkhlaWdodCArIHNlY3Rpb25EaXN0YW5jZUZyb21Ub3ApIHtcclxuXHRcdFx0bmF2LmNsYXNzTGlzdC5yZW1vdmUoJ25hdi0tb24tc3BlY2lhbC1zZWN0aW9ucycpXHJcblx0XHRcdG5hdi5jbGFzc0xpc3QucmVtb3ZlKCduYXYtLW9uLXNwZWNpYWwtc2VjdGlvbnMtd2hpY2gtYXJlLWxpZ2h0JylcclxuXHRcdFx0bmF2LmNsYXNzTGlzdC5yZW1vdmUoJ25hdi0tb24tc3BlY2lhbC1zZWN0aW9ucy13aGljaC1hcmUtZGFyaycpXHJcblx0XHRcdG5hdi5jbGFzc0xpc3QuYWRkKCduYXYtLWFuaW1hdGVkJylcclxuXHRcdH1cclxuXHR9KVxyXG59XHJcblxyXG5jb25zdCBtb3ZlVGVzdGltb25pYWxzID0gKCkgPT4ge1xyXG5cdGNvbnN0IGV4YW1wbGVUZXN0aW1vbmlhbCA9IHRlc3RpbW9uaWFsc1swXVxyXG5cdGNvbnN0IHRlc3RpbW9uaWFsV2lkdGggPSBleGFtcGxlVGVzdGltb25pYWwub2Zmc2V0V2lkdGhcclxuXHRjb25zdCB0ZXN0aW1vbmlhbE1hcmdpblZhbHVlID0gcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUoZXhhbXBsZVRlc3RpbW9uaWFsKS5tYXJnaW5SaWdodClcclxuXHRjb25zdCB0cmFuc2xhdGVYVmFsdWUgPSBgJHsodGVzdGltb25pYWxXaWR0aCArIHRlc3RpbW9uaWFsTWFyZ2luVmFsdWUpICogaW5kZXhPZkN1cnJlbnRDZW50ZXJlZFRlc3RpbW9uaWFsfWBcclxuXHRjb25zdCBjZW50ZXJlZFRlc3RpbW9uaWFsID0gdGVzdGltb25pYWxzW2luZGV4T2ZDdXJyZW50Q2VudGVyZWRUZXN0aW1vbmlhbF1cclxuXHJcblx0Zm9yIChjb25zdCB0ZXN0aW1vbmlhbCBvZiB0ZXN0aW1vbmlhbHMpIHtcclxuXHRcdHRlc3RpbW9uaWFsLmNsYXNzTGlzdC5yZW1vdmUoJ3Rlc3RpbW9uaWFsc19fdGVzdGltb25pYWwtLWF0LXRoZS1jZW50ZXInKVxyXG5cdFx0dGVzdGltb25pYWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoLSR7dHJhbnNsYXRlWFZhbHVlfXB4KWBcclxuXHR9XHJcblxyXG5cdGNlbnRlcmVkVGVzdGltb25pYWwuY2xhc3NMaXN0LmFkZCgndGVzdGltb25pYWxzX190ZXN0aW1vbmlhbC0tYXQtdGhlLWNlbnRlcicpXHJcbn1cclxuXHJcbmNvbnN0IGRlY3JlYXNlVmFyaWFibGVJbmRleE9mQ2VudGVyZWRUZXN0aW1vbmlhbCA9ICgpID0+IHtcclxuXHRpZiAoaW5kZXhPZkN1cnJlbnRDZW50ZXJlZFRlc3RpbW9uaWFsID4gMCkge1xyXG5cdFx0aW5kZXhPZkN1cnJlbnRDZW50ZXJlZFRlc3RpbW9uaWFsLS1cclxuXHR9IGVsc2UgaWYgKGluZGV4T2ZDdXJyZW50Q2VudGVyZWRUZXN0aW1vbmlhbCA9PT0gMCkge1xyXG5cdFx0aW5kZXhPZkN1cnJlbnRDZW50ZXJlZFRlc3RpbW9uaWFsID0gaW5kZXhPZkxhc3RUZXN0aW1vbmlhbFxyXG5cdFx0Y29uc29sZS5sb2coaW5kZXhPZkN1cnJlbnRDZW50ZXJlZFRlc3RpbW9uaWFsKVxyXG5cdH1cclxuXHRtb3ZlVGVzdGltb25pYWxzKClcclxufVxyXG5jb25zdCBpbmNyZWFzZVZhcmlhYmxlSW5kZXhPZkNlbnRlcmVkVGVzdGltb25pYWwgPSAoKSA9PiB7XHJcblx0aWYgKGluZGV4T2ZDdXJyZW50Q2VudGVyZWRUZXN0aW1vbmlhbCA8IGluZGV4T2ZMYXN0VGVzdGltb25pYWwpIHtcclxuXHRcdGluZGV4T2ZDdXJyZW50Q2VudGVyZWRUZXN0aW1vbmlhbCsrXHJcblx0fSBlbHNlIGlmIChpbmRleE9mQ3VycmVudENlbnRlcmVkVGVzdGltb25pYWwgPT09IGluZGV4T2ZMYXN0VGVzdGltb25pYWwpIHtcclxuXHRcdGluZGV4T2ZDdXJyZW50Q2VudGVyZWRUZXN0aW1vbmlhbCA9IDBcclxuXHR9XHJcblx0bW92ZVRlc3RpbW9uaWFscygpXHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrRHJhZ0RpcmVjdGlvbiA9IGUgPT4ge1xyXG5cdGRpZmZlcmVuY2VPZlN0YXJ0RW5kWCA9IHN0YXJ0WE9mRHJhZ09uVGVzdGltb25pYWxzIC0gZW5kWE9mRHJhZ09uVGVzdGltb25pYWxzXHJcblxyXG5cdGlmIChkaWZmZXJlbmNlT2ZTdGFydEVuZFggPiA1MCkge1xyXG5cdFx0aW5jcmVhc2VWYXJpYWJsZUluZGV4T2ZDZW50ZXJlZFRlc3RpbW9uaWFsKClcclxuXHR9IGVsc2UgaWYgKGRpZmZlcmVuY2VPZlN0YXJ0RW5kWCA8IC01MCkge1xyXG5cdFx0ZGVjcmVhc2VWYXJpYWJsZUluZGV4T2ZDZW50ZXJlZFRlc3RpbW9uaWFsKClcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGFkZEVycm9yVG9JbnB1dCA9IChpbnB1dCwgbWVzc2FnZSkgPT4ge1xyXG5cdGNvbnN0IGlucHV0RXJyb3IgPSBpbnB1dC5uZXh0RWxlbWVudFNpYmxpbmdcclxuXHRpbnB1dEVycm9yLmNsYXNzTGlzdC5hZGQoJ2Vycm9yLWZvci1pbnB1dHMtdmlzaWJsZScpXHJcblx0aW5wdXRFcnJvci50ZXh0Q29udGVudCA9IG1lc3NhZ2VcclxufVxyXG5cclxuY29uc3QgcmVtb3ZlRXJyb3JGcm9tSW5wdXQgPSBpbnB1dCA9PiB7XHJcblx0Y29uc3QgaW5wdXRFcnJvciA9IGlucHV0Lm5leHRFbGVtZW50U2libGluZ1xyXG5cdGlucHV0RXJyb3IuY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3ItZm9yLWlucHV0cy12aXNpYmxlJylcclxuXHRpbnB1dEVycm9yLnRleHRDb250ZW50ID0gJydcclxufVxyXG5cclxuY29uc3QgY2hlY2tFbWFpbFNwZWxsaW5nID0gZW1haWwgPT4ge1xyXG5cdGNvbnN0IHJlID0gL15cXFMrQFxcUytcXC5cXFMrJC9cclxuXHJcblx0aWYgKHJlLnRlc3QoZW1haWwudmFsdWUpKSB7XHJcblx0XHRyZW1vdmVFcnJvckZyb21JbnB1dChlbWFpbClcclxuXHR9IGVsc2Uge1xyXG5cdFx0YWRkRXJyb3JUb0lucHV0KGVtYWlsLCAnRW1haWwgamVzdCBixYLEmWRueScpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjaGVja05hbWVTcGVsbGluZyA9IG5hbWUgPT4ge1xyXG5cdGNvbnN0IHJlID0gL15bYS16QS1aXFxzXSokL1xyXG5cclxuXHRpZiAoIXJlLnRlc3QobmFtZS52YWx1ZSkpIHtcclxuXHRcdGNvbnN0IG1lc3NhZ2UgPSBgJHtuYW1lLnByZXZpb3VzRWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnR9IG5pZSBtb8W8ZSB6YXdpZXJhxIcgem5ha8OzdyBgXHJcblx0XHRhZGRFcnJvclRvSW5wdXQobmFtZSwgbWVzc2FnZSlcclxuXHR9IGVsc2Uge1xyXG5cdFx0cmVtb3ZlRXJyb3JGcm9tSW5wdXQobmFtZSlcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrTGVuZ2h0T2ZJbnB1dCA9IChpbnB1dCwgbWluTGVuZ2h0T2ZDaGFyKSA9PiB7XHJcblx0aWYgKGlucHV0LnZhbHVlLmxlbmd0aCA8IG1pbkxlbmdodE9mQ2hhcikge1xyXG5cdFx0Y29uc3QgdHlwZU9mSW5wdXQgPSBpbnB1dC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLnRleHRDb250ZW50XHJcblx0XHRsZXQgbWVzc2FnZVxyXG5cdFx0aWYgKG1pbkxlbmdodE9mQ2hhciA+IDQpIHtcclxuXHRcdFx0bWVzc2FnZSA9IGAke3R5cGVPZklucHV0fSBtYSB6YXdpZXJhxIcgbWluaW1hbG5pZSAke21pbkxlbmdodE9mQ2hhcn0gem5ha8Ozd2BcclxuXHRcdH0gZWxzZSBpZiAobWluTGVuZ2h0T2ZDaGFyIDw9IDQpIHtcclxuXHRcdFx0bWVzc2FnZSA9IGAke3R5cGVPZklucHV0fSBtYSB6YXdpZXJhxIcgbWluaW1hbG5pZSAke21pbkxlbmdodE9mQ2hhcn0gem5ha2lgXHJcblx0XHR9XHJcblx0XHRhZGRFcnJvclRvSW5wdXQoaW5wdXQsIG1lc3NhZ2UpXHJcblx0fSBlbHNlIGlmIChpbnB1dC5jbGFzc0xpc3QuY29udGFpbnMoJ3RleHRhcmVhLWRlZmF1bHQnKSkge1xyXG5cdFx0cmVtb3ZlRXJyb3JGcm9tSW5wdXQoaW5wdXQpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjaGVja0xlbmdodE9mSW5wdXRQaG9uZU51bWJlciA9IChwaG9uZU51bSwgbnVtYmVycykgPT4ge1xyXG5cdGlmIChwaG9uZU51bS52YWx1ZS5sZW5ndGggIT09IG51bWJlcnMpIHtcclxuXHRcdGNvbnN0IGxhYmVsVGV4dEluQXJyYXkgPSBwaG9uZU51bS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLnRleHRDb250ZW50LnNwbGl0KCcgJylcclxuXHRcdGNvbnN0IGZpcnN0Q2hhck9mMXdvcmQgPSBsYWJlbFRleHRJbkFycmF5WzBdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpXHJcblx0XHRjb25zdCByZXN0T2ZUZXh0T2Yxd29yZCA9IGxhYmVsVGV4dEluQXJyYXlbMF0uc2xpY2UoMSlcclxuXHRcdGNvbnN0IHBob25lTnVtU3RyaW5nID0gZmlyc3RDaGFyT2Yxd29yZCArIHJlc3RPZlRleHRPZjF3b3JkICsgJyAnICsgbGFiZWxUZXh0SW5BcnJheVsxXVxyXG5cdFx0Y29uc3QgbWVzc2FnZSA9IGAke3Bob25lTnVtU3RyaW5nfSBtYSB6YXdpZXJhxIcgJHtudW1iZXJzfSBjeWZyYFxyXG5cdFx0YWRkRXJyb3JUb0lucHV0KHBob25lTnVtLCBtZXNzYWdlKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRyZW1vdmVFcnJvckZyb21JbnB1dChwaG9uZU51bSlcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrSWZJbnB1dElzRW1wdHkgPSBpbnB1dCA9PiB7XHJcblx0aWYgKGlucHV0LnZhbHVlLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0Y29uc3QgdHlwZU9mSW5wdXQgPSBpbnB1dC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLnRleHRDb250ZW50XHJcblx0XHRjb25zdCBtZXNzYWdlID0gYCR7dHlwZU9mSW5wdXR9IG5pZSBtb8W8ZSBiecSHIHB1c3R5YFxyXG5cdFx0YWRkRXJyb3JUb0lucHV0KGlucHV0LCBtZXNzYWdlKVxyXG5cdH1cclxufVxyXG5cclxuLy8gdGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgYWZ0ZXIgb3RoZXIgZnVuY3Rpb25zIGluIGhhbmRsZVBhcmFtZXRlcnMgLSBraW5kIG9mIGZ1bmN0aW9uXHJcbi8vIGFzIGl0IGRvZXNuJ3QgcmVtb3ZlIGVycm9yLCBpdCBkb2Vzbid0IG92ZXJyaWRlIHByZXZpb3VzIG9uZXNcclxuY29uc3QgaGFuZGxlSW5wdXRzVG9DaGVja0lmQXJlRW1wdHkgPSBpbnB1dHNPcklucHV0ID0+IHtcclxuXHRpZiAoQXJyYXkuaXNBcnJheShpbnB1dHNPcklucHV0KSkge1xyXG5cdFx0aW5wdXRzT3JJbnB1dC5mb3JFYWNoKGlucHV0ID0+IGNoZWNrSWZJbnB1dElzRW1wdHkoaW5wdXQpKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRjaGVja0lmSW5wdXRJc0VtcHR5KGlucHV0c09ySW5wdXQpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBzaG93UG9wdXAgPSBlID0+IHtcclxuXHRsZXQgbnVtT2ZFcnJvcnMgPSAwXHJcblx0Y29uc3Qgc2VjdGlvbk9mQ2xpY2tlZEJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5zZWN0aW9uJylcclxuXHRjb25zdCBwb3B1cE9mVGhpc0Zvcm0gPSBzZWN0aW9uT2ZDbGlja2VkQnRuLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLW1lc3NhZ2UnKVxyXG5cdGNvbnN0IGFsbElucHV0c0FuZFRleHRhcmVhc09mVGhpc0Zvcm0gPSBzZWN0aW9uT2ZDbGlja2VkQnRuLnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dC1kZWZhdWx0LCAudGV4dGFyZWEtZGVmYXVsdCcpXHJcblxyXG5cdGFsbElucHV0c0FuZFRleHRhcmVhc09mVGhpc0Zvcm0uZm9yRWFjaChpbnB1dE9yVGV4dGFyZWEgPT4ge1xyXG5cdFx0aWYgKGlucHV0T3JUZXh0YXJlYS5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LmNvbnRhaW5zKCdlcnJvci1mb3ItaW5wdXRzLXZpc2libGUnKSkge1xyXG5cdFx0XHRudW1PZkVycm9ycysrXHJcblx0XHR9XHJcblx0fSlcclxuXHJcblx0aWYgKG51bU9mRXJyb3JzID09PSAwKSB7XHJcblx0XHRwb3B1cE9mVGhpc0Zvcm0uY2xhc3NMaXN0LmFkZCgnZm9ybS1tZXNzYWdlLWFjdGl2ZScpXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0cG9wdXBPZlRoaXNGb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2Zvcm0tbWVzc2FnZS1hY3RpdmUnKVxyXG5cdFx0XHRhbGxJbnB1dHNBbmRUZXh0YXJlYXNPZlRoaXNGb3JtLmZvckVhY2goaW5wdXRPclRleHRhcmVhID0+IChpbnB1dE9yVGV4dGFyZWEudmFsdWUgPSAnJykpIFxyXG5cdFx0fSwgMzAwMClcclxuXHR9IGVsc2Uge1xyXG5cdFx0cG9wdXBPZlRoaXNGb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2Zvcm0tbWVzc2FnZS1hY3RpdmUnKVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgaGFuZGxlUGFyYW1ldGVyc09mSW5wdXRzT2ZDb250YWN0Rm9ybSA9IGUgPT4ge1xyXG5cdGUucHJldmVudERlZmF1bHQoKVxyXG5cclxuXHRjaGVja0VtYWlsU3BlbGxpbmcoaW5wdXRGb3JFbWFpbEluQ29udGFjdEZvcm0pXHJcblx0Y2hlY2tOYW1lU3BlbGxpbmcoaW5wdXRGb3JOYW1lSW5Db250YWN0Rm9ybSlcclxuXHRjaGVja05hbWVTcGVsbGluZyhpbnB1dEZvclN1cm5hbWVJbkNvbnRhY3RGb3JtKVxyXG5cdGNoZWNrTGVuZ2h0T2ZJbnB1dChpbnB1dEZvck5hbWVJbkNvbnRhY3RGb3JtLCAzKVxyXG5cdGNoZWNrTGVuZ2h0T2ZJbnB1dChpbnB1dEZvclN1cm5hbWVJbkNvbnRhY3RGb3JtLCAzKVxyXG5cdGNoZWNrTGVuZ2h0T2ZJbnB1dFBob25lTnVtYmVyKGlucHV0Rm9yUGhvbmVOdW1iZXJJbkNvbnRhY3RGb3JtLCA5KVxyXG5cdGNoZWNrTGVuZ2h0T2ZJbnB1dCh0ZXh0YXJlYUZvck1lc3NhZ2VJbkNvbnRhY3RGb3JtLCAzMClcclxuXHRoYW5kbGVJbnB1dHNUb0NoZWNrSWZBcmVFbXB0eShpbnB1dHNBbmRUZXh0YXJlYUluQ29udGFjdEZvcm0pXHJcblxyXG5cdHNob3dQb3B1cChlKVxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVQYXJhbWV0ZXJzRm9ySW5wdXRPZk5ld3NsZXR0ZXJGb3JtID0gZSA9PiB7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpXHJcblxyXG5cdGNoZWNrRW1haWxTcGVsbGluZyhpbnB1dEZvckVtYWlsSW5OZXdzbGV0dGVyRm9ybSlcclxuXHRoYW5kbGVJbnB1dHNUb0NoZWNrSWZBcmVFbXB0eShpbnB1dEZvckVtYWlsSW5OZXdzbGV0dGVyRm9ybSlcclxuXHJcblx0c2hvd1BvcHVwKGUpXHJcbn1cclxuXHJcbmNvbnN0IHVwZGF0ZUZvb3RlclllYXIgPSAoKSA9PiB7XHJcblx0Zm9vdGVyWWVhci50ZXh0Q29udGVudCA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKVxyXG59XHJcbnVwZGF0ZUZvb3RlclllYXIoKVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVMaXN0ZW5lcnNGb3JGdW5jdGlvblNob3dIaWRlTmF2KVxyXG5hY2NvcmRpb25zQnRucy5mb3JFYWNoKGJ0biA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBleHBhbmRBY2NvcmRpb24pKVxyXG5jb25zdCBvYnNlcnZlckZvckFjaGlldmVtZW50cyA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihpbmNyZWFzZU51bWJlcnNJbkFjaGlldmVtZW50U2VjdGlvbiwgb3B0aW9uc0Zvck9ic2VydmVyKVxyXG5jb25zdCBvYnNlcnZlckZvck9mZmVycyA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihhZGRBbmltYXRpb25Ub09mZmVyc0NhcmRzLCBvcHRpb25zRm9yT2JzZXJ2ZXIpXHJcbmlmIChzZWN0aW9uQWNoaWV2ZW1lbnRzICE9PSBudWxsKSB7XHJcblx0b2JzZXJ2ZXJGb3JBY2hpZXZlbWVudHMub2JzZXJ2ZShzZWN0aW9uQWNoaWV2ZW1lbnRzKVxyXG59XHJcbmlmIChzZWN0aW9uT2ZmZXJzSW5Ib21lUGFnZSAhPT0gbnVsbCkge1xyXG5cdG9ic2VydmVyRm9yT2ZmZXJzLm9ic2VydmUoc2VjdGlvbk9mZmVyc0luSG9tZVBhZ2UpXHJcbn1cclxuaWYgKG9mZmVyc1BhZ2UgIT09IG51bGwpIHtcclxuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgY2hlY2tXaGljaE9mZmVyQnRuSXNBY3RpdmUpXHJcblx0b2ZmZXJzQ2hvb3NlQmFyQnRucy5mb3JFYWNoKGJ0biA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGFuZ2VBY3RpdmVCdG5Jbk9mZmVyc0Nob29zZUJhcikpXHJcbn1cclxuaWYgKHRlc3RpbW9uaWFsc1NlY3Rpb24gIT09IG51bGwpIHtcclxuXHR0ZXN0aW1vbmlhbHNTZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBlID0+IChzdGFydFhPZkRyYWdPblRlc3RpbW9uaWFscyA9IGUudG91Y2hlc1swXS5jbGllbnRYKSlcclxuXHR0ZXN0aW1vbmlhbHNTZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGUgPT4gKGVuZFhPZkRyYWdPblRlc3RpbW9uaWFscyA9IGUudG91Y2hlc1swXS5jbGllbnRYKSlcclxuXHR0ZXN0aW1vbmlhbHNTZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgY2hlY2tEcmFnRGlyZWN0aW9uKVxyXG5cdHRlc3RpbW9uaWFsQXJyb3dSaWdodC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGluY3JlYXNlVmFyaWFibGVJbmRleE9mQ2VudGVyZWRUZXN0aW1vbmlhbClcclxuXHR0ZXN0aW1vbmlhbEFycm93TGVmdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRlY3JlYXNlVmFyaWFibGVJbmRleE9mQ2VudGVyZWRUZXN0aW1vbmlhbClcclxufVxyXG5pZiAoYnRuQ29udGFjdEZvcm0gIT09IG51bGwpIHtcclxuXHRidG5Db250YWN0Rm9ybS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVBhcmFtZXRlcnNPZklucHV0c09mQ29udGFjdEZvcm0pXHJcbn1cclxuaWYgKGJ0bk5ld3NsZXR0ZXJGb3JtICE9PSBudWxsKSB7XHJcblx0YnRuTmV3c2xldHRlckZvcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVQYXJhbWV0ZXJzRm9ySW5wdXRPZk5ld3NsZXR0ZXJGb3JtKVxyXG59XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgY2hlY2tBdFdoaWNoU2VjdGlvbllvdUFyZSlcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgY2hlY2tBdFdoaWNoU2VjdGlvbllvdUFyZSlcclxuIl19
